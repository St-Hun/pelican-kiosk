<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rasa Chatbot</title>
    <style>
        /* Rasa Webchat 스타일 커스터마이징 */
        .rw-conversation-container .rw-header {
            background-color: hsl(250, 69%, 61%);
        }
        .rw-conversation-container .rw-messages-container .rw-message .rw-client {
            background-color: hsl(250, 69%, 61%);
        }
        .rw-launcher {
            background-color: hsl(250, 69%, 61%);
        }
        .rw-conversation-container .rw-reply {
            background-color: hsl(250, 69%, 61%);
            border: 1px solid hsl(250, 69%, 61%);
        }
    </style>
</head>
<body>
    <!-- Rasa Webchat 위젯 -->
    <div id="rasa-chat-widget" data-websocket-url="http://localhost:5005"></div>
    
    <!-- Rasa Webchat 스크립트 로드 -->
    <script src="https://cdn.jsdelivr.net/npm/rasa-webchat@1.0.1/lib/index.js"></script>

    <script>
        (function () {
            window.WebChat.default(
                {
                    customData: { language: "en" }, // 사용자 정의 데이터
                    socketUrl: "http://localhost:5005", // Rasa 서버 URL
                    socketPath: "/socket.io/",
                    title: "Rasa Bot",
                    subtitle: "Say hi and get started!",
                    showMessageDate: true,
                    inputTextFieldHint: "Type a message...",
                    embedded: true,
                    params: {
                        storage: "session"
                    },
                    onSocketEvent: {
                        'session_confirm': function(sessionObject) {
                            console.log('Session confirmed: ', sessionObject);
                        }
                    }
                },
                null // 채팅 위젯이 렌더링될 요소
            );
        })();
    </script>
            <script>!(function () {
              let e = document.createElement("script"),
                t = document.head || document.getElementsByTagName("head")[0];
              (e.src =
                "https://cdn.jsdelivr.net/npm/rasa-webchat/lib/index.js"),
                (e.async = !0),
                (e.onload = () => {
                  window.WebChat.default(
                    {
                      customData: { language: "en" },
                      socketUrl: "http://localhost:5005",
                      title: 'Lifeeazy',
                      subtitle: 'Say hi and get started!',
                      initPayload: '/greet',
                      profileAvatar: "https://img.icons8.com/fluency/344/chatbot.png",
                      showMessageDate: true,
                      inputTextFieldHint: "Type 'Hi' to start the conversation",
                      embedded: true,
                    },
                    null
                  );
                }),
                t.insertBefore(e, t.firstChild);
            })();
            localStorage.clear();
            </script>
</body>
</html>
